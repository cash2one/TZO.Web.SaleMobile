webpackJsonp([11,13],{95:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=r(15),a=n(s),o=r(14),c=n(o),i=r(9),u=n(i),p=r(5),l=r(2),f=n(l),d=r(11);e.default={mounted:function(){this.initData()},components:{headerTitle:f.default},methods:(0,u.default)({},(0,p.mapActions)(["refreshToken","getUserInfo","setCurCorp"]),(0,p.mapMutations)(["GET_CORPLIST"]),{chooseCorp:function(t){var e=this;return(0,c.default)(a.default.mark(function r(){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.initAuthData(t);case 2:e.$router.push("/home");case 3:case"end":return r.stop()}},r,e)}))()},initAuthData:function(t){var e=this;return(0,c.default)(a.default.mark(function r(){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.setCurCorp(t);case 2:return r.next=4,e.getUserInfo();case 4:case"end":return r.stop()}},r,e)}))()},initData:function(){var t=this;return(0,c.default)(a.default.mark(function e(){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.apiGetToken)(t.$route.query.code);case 2:return r=e.sent,e.next=5,t.refreshToken(r.Token);case 5:if(t.GET_CORPLIST(r.EmployeeCorpRel),1!=r.EmployeeCorpRel.length){e.next=10;break}return e.next=9,t.initAuthData(r.EmployeeCorpRel[0]);case 9:t.$router.push("/home");case 10:case"end":return e.stop()}},e,t)}))()}}),computed:(0,u.default)({},(0,p.mapState)(["curCorp","corpList"]))}},190:function(t,e,r){e=t.exports=r(3)(),e.push([t.id,".corp_container[data-v-7bb89fa7]{overflow-y:auto}","",{version:3,sources:["/./src/page/corp-list/corp-list.vue"],names:[],mappings:"AACA,iCAAiC,eAAe,CAC/C",file:"corp-list.vue",sourcesContent:["\n.corp_container[data-v-7bb89fa7]{overflow-y:auto\n}\n"],sourceRoot:"webpack://"}])},206:function(t,e,r){var n=r(190);"string"==typeof n&&(n=[[t.id,n,""]]);r(4)(n,{});n.locals&&(t.exports=n.locals)},223:function(t,e,r){r(206);var n=r(1)(r(95),r(299),"data-v-7bb89fa7",null);t.exports=n.exports},299:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page"},[r("header-title",{attrs:{"header-title":"选择公司"}}),t._v(" "),r("section",{staticClass:"corp_container"},[r("section",{staticClass:"m-list"},[r("header",[t._v("最近用过的公司")]),t._v(" "),r("section",{staticClass:"item",on:{click:function(e){t.chooseCorp(t.curCorp)}}},[r("strong",{staticClass:"name"},[t._v(t._s(t.curCorp.CorpName))]),t._v(" "),r("div",{staticClass:"number"},[r("span",[t._v(t._s(t.curCorp.Position))])]),t._v(" "),r("p",{staticClass:"content"},[t._v(t._s(t.curCorp.DeptName))])]),t._v(" "),r("header",[t._v("选择公司")]),t._v(" "),t._l(t.corpList,function(e){return r("section",{key:e.CorpId,staticClass:"item",on:{click:function(r){t.chooseCorp(e)}}},[r("strong",{staticClass:"name"},[t._v(t._s(e.CorpName))]),t._v(" "),r("div",{staticClass:"number"},[r("span",[t._v(t._s(e.Position))])]),t._v(" "),r("p",{staticClass:"content"},[t._v(t._s(e.DeptName))])])})],2)])],1)},staticRenderFns:[]}}});