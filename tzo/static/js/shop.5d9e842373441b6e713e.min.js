webpackJsonp([10,15],{143:function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var n=e(8),i=a(n),o=e(7),r=a(o),c=e(5),l=a(c),u=e(4),d=e(6),_=a(d),v=e(10),p=a(v),m=e(9);s.default={data:function(){return{showLoading:!0,changeShowType:"return",stockList:[],saleReturnList:[],cashMoney:0,chargeOrder:0}},mounted:function(){this.initData()},computed:(0,l.default)({},(0,u.mapState)(["globalPropertyList","curStorage","userInfo"])),components:{headerTitle:_.default,loading:p.default},methods:(0,l.default)({},(0,u.mapActions)(["getGlobalProperty"]),{initData:function(){var t=this;return(0,r.default)(i.default.mark(function s(){var e,a,n,o;return i.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.getGlobalProperty();case 2:return e=new Date,e.setHours(0,0,0,0),a=new Date,a.setHours(23,59,59,999),s.next=8,(0,m.apiGetSaleReturnByStorageId)(t.curStorage.Id,[4,5,7],e,a).then(function(s){return t.saleReturnList=s.Items});case 8:n=0;case 9:if(!(n<t.saleReturnList.length)){s.next=16;break}return o=t.saleReturnList[n],s.next=13,(0,m.apiGetForeignSaleReturnOrderDetail)(o.Id).then(function(t){return o.Items=t.Items});case 13:n++,s.next=9;break;case 16:return s.next=18,(0,m.apiGetGoodsStock)(t.curStorage.Id).then(function(s){return t.stockList=s.Items});case 18:return s.next=20,(0,m.apiGetEmployeeSettlementMoney)(e,a).then(function(s){return t.cashMoney=s.m_Item1});case 20:return s.next=22,(0,m.apiGetSaleOrderByUserId)(t.userInfo.UserId,[4,5],[0],e,a).then(function(s){return t.chargeOrder=s.Count});case 22:t.showLoading=!1;case 23:case"end":return s.stop()}},s,t)}))()}})}},144:function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var n=e(8),i=a(n),o=e(7),r=a(o),c=e(5),l=a(c),u=e(4),d=e(6),_=a(d),v=e(10),p=a(v),m=e(9);s.default={data:function(){return{showLoading:!0,changeShowType:"delivery",expressList:[],stockList:[],saleReturnNum:0}},mounted:function(){this.initData()},computed:(0,l.default)({},(0,u.mapState)(["globalPropertyList","curStorage","curExpress"])),components:{headerTitle:_.default,loading:p.default},methods:(0,l.default)({},(0,u.mapActions)(["getGlobalProperty"]),{initData:function(){var t=this;return(0,r.default)(i.default.mark(function s(){var e,a;return i.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.getGlobalProperty();case 2:return s.next=4,(0,m.apiGetSaleReturnByStorageId)(t.curStorage.Id,[2]).then(function(s){return t.saleReturnNum=s.Count});case 4:return s.next=6,(0,m.apiGetExpresses)([2],!1,!1,t.curExpress.Id).then(function(s){return t.expressList=s.Items});case 6:e=0;case 7:if(!(e<t.expressList.length)){s.next=14;break}return a=t.expressList[e],s.next=11,(0,m.apiGetDeal)(a.BillId).then(function(t){return a.Items=t.Items});case 11:e++,s.next=7;break;case 14:return s.next=16,(0,m.apiGetGoodsStock)(t.curStorage.Id).then(function(s){return t.stockList=s.Items});case 16:t.showLoading=!1;case 17:case"end":return s.stop()}},s,t)}))()}})}},335:function(t,s,e){var a=e(1)(e(143),e(389),null,null);t.exports=a.exports},336:function(t,s,e){var a=e(1)(e(144),e(351),null,null);t.exports=a.exports},351:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page"},[e("header-title",{attrs:{"header-title":"出店",goback:"true"}}),t._v(" "),t.showLoading?t._e():e("section",{staticClass:"scroll_container paddingTop"},[e("section",{staticClass:"info-data"},[e("ul",{staticClass:"clear"},[e("router-link",{staticClass:"info-data-link",attrs:{to:"/balance",tag:"li"}},[e("span",{staticClass:"info-data-top"},[e("strong",{staticClass:"number"},[t._v("**")]),t._v("个\n                    ")]),t._v(" "),e("span",{staticClass:"info-data-bottom"},[t._v("访客")])]),t._v(" "),e("router-link",{staticClass:"info-data-link",attrs:{to:"/benefit",tag:"li"}},[e("span",{staticClass:"info-data-top"},[e("strong",{staticClass:"count"},[t._v(t._s(t.expressList.length))]),t._v("单\n                    ")]),t._v(" "),e("span",{staticClass:"info-data-bottom"},[t._v("送货")])]),t._v(" "),e("router-link",{staticClass:"info-data-link",attrs:{to:"/points",tag:"li"}},[e("span",{staticClass:"info-data-top"},[e("strong",{staticClass:"money"},[t._v(t._s(t.saleReturnNum))]),t._v("单\n                    ")]),t._v(" "),e("span",{staticClass:"info-data-bottom"},[t._v("退货")])])],1)]),t._v(" "),e("section",{ref:"chooseType",staticClass:"m-tabs"},[e("div",{staticClass:"item"},[e("span",{class:{active:"delivery"==t.changeShowType},on:{click:function(s){t.changeShowType="delivery"}}},[t._v("送货")])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{class:{active:"transfer"==t.changeShowType},on:{click:function(s){t.changeShowType="transfer"}}},[t._v("备货")])])]),t._v(" "),e("transition",{attrs:{name:"m-tab-choose"}},[e("section",{directives:[{name:"show",rawName:"v-show",value:"delivery"==t.changeShowType,expression:"changeShowType =='delivery'"}],staticClass:"m-tab-container item-list"},t._l(t.expressList,function(s){return e("section",{key:s.Id},[e("header",[t._v(t._s(s.CustomerName)+"["+t._s(s.BillNo)+"]")]),t._v(" "),t._l(s.Items,function(s){return e("section",{key:s.Id,staticClass:"item"},[e("section",{staticClass:"item-left"},[e("section",{staticClass:"title"},[e("h3",{staticClass:"name ellipsis"},[e("strong",[t._v(t._s(s.GoodsName))])])]),t._v(" "),e("section",{staticClass:"content"},t._l(t.globalPropertyList,function(a){return e("section",{key:a.Id},[e("span",[t._v(t._s(a.Name))]),t._v(":\n                                    "),e("span",[t._v(t._s(s.Goods.Properties["p"+a.Id]))])])}))]),t._v(" "),e("div",{staticClass:"detail"},[e("div",[e("span",[t._v("x")]),t._v(" "),e("span",{staticClass:"number"},[t._v(t._s(s.GoodsNum))]),t._v(" "),e("span",[t._v(t._s(s.Units))])])])])})],2)}))]),t._v(" "),e("transition",{attrs:{name:"tab-choose"}},[e("section",{directives:[{name:"show",rawName:"v-show",value:"transfer"==t.changeShowType,expression:"changeShowType =='transfer'"}],staticClass:"m-tab-container item-list"},t._l(t.stockList,function(s){return e("section",{key:s.GoodsId,staticClass:"item"},[e("section",{staticClass:"item-left"},[e("section",{staticClass:"title"},[e("h3",{staticClass:"name ellipsis"},[e("strong",[t._v(t._s(s.Goods.Name))])])]),t._v(" "),e("section",{staticClass:"content"},t._l(t.globalPropertyList,function(a){return e("section",{key:a.Id},[e("span",[t._v(t._s(a.Name))]),t._v(":\n                                "),e("span",[t._v(t._s(s.Goods.Properties["p"+a.Id]))])])}))]),t._v(" "),e("div",{staticClass:"detail"},[e("div",[e("span",[t._v("x")]),t._v(" "),e("span",{staticClass:"number"},[t._v(t._s(s.StockNum))]),t._v(" "),e("span",[t._v(t._s(s.Goods.Units))])])])])}))])],1),t._v(" "),e("transition",{attrs:{name:"loading"}},[e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]})],1)],1)},staticRenderFns:[]}},389:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page"},[e("header-title",{attrs:{"header-title":"回店",goback:"true"}}),t._v(" "),t.showLoading?t._e():e("section",{staticClass:"scroll_container paddingTop"},[e("section",{staticClass:"info-data"},[e("ul",{staticClass:"clear"},[e("router-link",{staticClass:"info-data-link",attrs:{to:"/balance",tag:"li"}},[e("span",{staticClass:"info-data-top"},[e("strong",{staticClass:"money"},[t._v(t._s(t.cashMoney))]),t._v("元")]),t._v(" "),e("span",{staticClass:"info-data-bottom"},[t._v("现金")])]),t._v(" "),e("router-link",{staticClass:"info-data-link",attrs:{to:"/benefit",tag:"li"}},[e("span",{staticClass:"info-data-top"},[e("strong",{staticClass:"count"},[t._v(t._s(t.chargeOrder))]),t._v("单")]),t._v(" "),e("span",{staticClass:"info-data-bottom"},[t._v("挂帐")])]),t._v(" "),e("router-link",{staticClass:"info-data-link",attrs:{to:"/points",tag:"li"}},[e("span",{staticClass:"info-data-top"},[e("strong",{staticClass:"number"},[t._v(t._s(t.saleReturnList.length))]),t._v("单")]),t._v(" "),e("span",{staticClass:"info-data-bottom"},[t._v("退货")])])],1)]),t._v(" "),e("section",{ref:"chooseType",staticClass:"m-tabs"},[e("div",{staticClass:"item"},[e("span",{class:{active:"return"==t.changeShowType},on:{click:function(s){t.changeShowType="return"}}},[t._v("客户退货")])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{class:{active:"transfer"==t.changeShowType},on:{click:function(s){t.changeShowType="transfer"}}},[t._v("备货退回")])])]),t._v(" "),e("transition",{attrs:{name:"m-tab-choose"}},[e("section",{directives:[{name:"show",rawName:"v-show",value:"return"==t.changeShowType,expression:"changeShowType =='return'"}],staticClass:"m-tab-container item-list"},t._l(t.saleReturnList,function(s){return e("section",{key:s.Id},[e("header",[t._v(t._s(s.CustomerName)+"["+t._s(s.BillNo)+"]")]),t._v(" "),t._l(s.Items,function(s){return e("section",{key:s.Id,staticClass:"item"},[e("section",{staticClass:"item-left"},[e("section",{staticClass:"title"},[e("h3",{staticClass:"name ellipsis"},[e("strong",[t._v(t._s(s.Goods.Name))])])]),t._v(" "),e("section",{staticClass:"content"},t._l(t.globalPropertyList,function(a){return e("section",{key:a.Id},[e("span",[t._v(t._s(a.Name))]),t._v(":\n                                    "),e("span",[t._v(t._s(s.Goods.Properties["p"+a.Id]))])])}))]),t._v(" "),e("div",{staticClass:"detail"},[e("div",[e("span",[t._v("x")]),t._v(" "),e("span",{staticClass:"number"},[t._v(t._s(s.GoodsNum))]),t._v(" "),e("span",[t._v(t._s(s.Units))])])])])})],2)}))]),t._v(" "),e("transition",{attrs:{name:"tab-choose"}},[e("section",{directives:[{name:"show",rawName:"v-show",value:"transfer"==t.changeShowType,expression:"changeShowType =='transfer'"}],staticClass:"tab-container item-list"},t._l(t.stockList,function(s){return e("section",{key:s.GoodsId,staticClass:"item"},[e("section",{staticClass:"item-left"},[e("section",{staticClass:"title"},[e("h3",{staticClass:"name ellipsis"},[e("strong",[t._v(t._s(s.Goods.Name))])])]),t._v(" "),e("section",{staticClass:"content"},t._l(t.globalPropertyList,function(a){return e("section",{key:a.Id},[e("span",[t._v(t._s(a.Name))]),t._v(":\n                                "),e("span",[t._v(t._s(s.Goods.Properties["p"+a.Id]))])])}))]),t._v(" "),e("div",{staticClass:"detail"},[e("div",[e("span",[t._v("x")]),t._v(" "),e("span",{staticClass:"number"},[t._v(t._s(s.StockNum))]),t._v(" "),e("span",[t._v(t._s(s.Goods.Units))])])])])}))])],1),t._v(" "),e("transition",{attrs:{name:"loading"}},[e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]})],1)],1)},staticRenderFns:[]}}});